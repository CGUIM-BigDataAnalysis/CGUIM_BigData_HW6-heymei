library(readr)
car <- read_csv("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv")
library(readr)
台北市10401_10602自行車竊盜點位資訊 <- read_csv("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv" ,fileEncoding = "utf-8")
library(readr)
台北市10401_10602自行車竊盜點位資訊 <- read_csv("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv" ,fileEncoding = "big5")
library(readr)
台北市10401_10602自行車竊盜點位資訊 <- read_csv("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv" ,fileEncoding = "big5")
library(readr)
台北市10401_10602自行車竊盜點位資訊 <- read_csv("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv" ,colClasses = "character")
library(readr)
library(data.table)
台北市10401_10602自行車竊盜點位資訊 <- read_csv("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv" ,colClasses = "character")
library(readr)
library(data.table)
台北市10401_10602自行車竊盜點位資訊 <- fread("~/Desktop/R Final/台北市10401-10602自行車竊盜點位資訊.csv" ,colClasses = "character")
View(台北市10401_10602自行車竊盜點位資訊)
library(readr)
library(data.table)
car <- fread("~/Desktop/R Final/car.csv" ,colClasses = "character")
car <- iconv(car , "big5", "utf8")
library(readr)
library(data.table)
car <- fread("~/Desktop/R Final/car.csv" ,colClasses = "character")
car <- iconv(car , "big5", "utf8")
library(readr)
library(data.table)
car <- fread("~/Desktop/R Final/car.csv" ,colClasses = "character")
View(car)
library(readr)
library(data.table)
car <- fread("~/Desktop/car.txt" ,colClasses = "character")
library(readr)
library(data.table)
car <- fread("~/Desktop/car.txt" ,colClasses = "character")
View(car)
library(data.table)
car <- fread("~/Desktop/R Final/txt/car.txt" ,colClasses = "character")
bike <- fread("~/Desktop/R Final/txt/bike.txt" ,colClasses = "character")
police <- fread("~/Desktop/R Final/txt/police.txt" ,colClasses = "character")
View(police)
View(bike)
library(data.table)
car <- fread("~/Desktop/R Final/txt/car.txt" ,colClasses = "character")
bike <- fread("~/Desktop/R Final/txt/bike.txt" ,colClasses = "character")
police <- fread("~/Desktop/R Final/txt/police.txt" ,colClasses = "character")
people <- fread("~/Desktop/R Final/opendata10512M030.csv")
View(people)
library(data.table)
car <- fread("~/Desktop/R Final/txt/car.txt" ,colClasses = "character")
bike <- fread("~/Desktop/R Final/txt/bike.txt" ,colClasses = "character")
police <- fread("~/Desktop/R Final/txt/police.txt" ,colClasses = "character")
people <- fread("~/Desktop/R Final/opendata10512M030.csv",colClasses = "character" , skip = 1)
View(police)
install.packages("ggplot2")
install.packages("regal")
install.packages("rgdal")
install.packages("rgeos")
install.packages("maptools")
install.packages("RColorBrewer")
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
View(car)
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$`發生(現)地點` <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
View(car)
View(bike)
library(data.table)
car <- fread("~/Desktop/R Final/txt/car.txt" ,colClasses = "character")
bike <- fread("~/Desktop/R Final/txt/bike.txt" ,colClasses = "character")
police <- fread("~/Desktop/R Final/txt/police.txt" ,colClasses = "character")
people <- fread("~/Desktop/R Final/opendata10512M030.csv",colClasses = "character" , skip = 1)
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
View(bike)
View(car)
View(people)
View(police)
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
View(police)
View(police)
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
View(people)
people[people$區域別=substr(people$地區,start = 1 , stop = 3),]
a <- people[people$區域別=substr(people$地區,start = 1 , stop = 3),]
a <- people[people$區域別 = substr(people$地區,start = 1 , stop = 3),]
a <- people[people$區域別 == substr(people$地區,start = 1 , stop = 3),]
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
View(a)
taipei <- substr(people$區域別 , start = 1,stop = 3)
a <- people[people$區域別 = taipei,]
taipei <- substr(people$區域別 , start = 1,stop = 3)
subset(people , 區域別==taipei)
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
taipei <- substr(people$區域別 , start = 1,stop = 3)
subset(people , 區域別== substr(people$區域別 , start = 1,stop = 3))
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
a <- people[grepl("臺北市",people$區域別),]
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
View(a)
View(people)
View(police)
View(bike)
View(a)
people_taipei <- people[grepl("臺北市",people$區域別),]
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
library(data.table)
car <- fread("~/Desktop/R Final/txt/car.txt" ,colClasses = "character")
bike <- fread("~/Desktop/R Final/txt/bike.txt" ,colClasses = "character")
police <- fread("~/Desktop/R Final/txt/police.txt" ,colClasses = "character")
people <- fread("~/Desktop/R Final/opendata10512M030.csv",colClasses = "character" , skip = 1)
people_taipei <- people[grepl("臺北市",people$區域別),]
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
View(people_taipei)
library(dplyr)
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>%
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
library(dplyr)
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(人口數) , people_man = sum(`人口數-男`) , people_woman = sum(`人口數-女`))
library(dplyr)
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
View(people_taipei_area)
View(people_taipei)
library(dplyr)
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
people_taipei_area$地區 <- substr(people_taipei_area$區域別 , start = 4 , stop = 6)
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
people$地區 <- substr(people$區域別 , start = 4 , stop = 6)
View(people_taipei_area)
View(car)
library(dplyr)
##人口表
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
people_taipei_area$地區 <- substr(people_taipei_area$區域別 , start = 4 , stop = 6)
##汽車偷竊
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
cartotal <- group_by(car,地區) %>% summarise(number = n())
##自行車偷竊
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
##警察局
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
View(cartotal)
library(dplyr)
##人口表
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
people_taipei_area$地區 <- substr(people_taipei_area$區域別 , start = 4 , stop = 6)
##汽車偷竊
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
cartotal <- group_by(car,地區) %>% summarise(number = n())
##自行車偷竊
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
biketotal <- group_by(bike,地區) %>% summarise(number = n())
##警察局
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
View(biketotal)
library(dplyr)
##人口表
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
people_taipei_area$地區 <- substr(people_taipei_area$區域別 , start = 4 , stop = 6)
##汽車偷竊
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
cartotal <- group_by(car,地區) %>% summarise(number = n())
##自行車偷竊
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
biketotal <- group_by(bike,地區) %>% summarise(number = n())
##警察局
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
policetotal <-  group_by(police,地區) %>% summarise(number = n())
View(policetotal)
library(dplyr)
##人口表
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
people_taipei_area$地區 <- substr(people_taipei_area$區域別 , start = 4 , stop = 6)
##汽車偷竊
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
cartotal <- group_by(car,地區) %>% summarise(carnumber = n())
##自行車偷竊
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
biketotal <- group_by(bike,地區) %>% summarise(bikenumber = n())
##警察局
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
policetotal <-  group_by(police,地區) %>% summarise(policenumber = n())
library(dplyr)
##人口表
people_taipei <- people[grepl("臺北市",people$區域別),]
people_taipei_area <- group_by(people_taipei,區域別) %>% summarise(people_total = sum(as.numeric(人口數)) , people_man = sum(as.numeric(`人口數-男`)) , people_woman = sum(as.numeric(`人口數-女`)))
people_taipei_area$地區 <- substr(people_taipei_area$區域別 , start = 4 , stop = 6)
##汽車偷竊
car$地區 <- substr(car$`發生(現)地點`,start = 4,stop = 6)
cartotal <- group_by(car,地區) %>% summarise(carnumber = n())
##自行車偷竊
bike$地區 <- substr(bike$`發生(現)地點` , start = 4 , stop = 6)
biketotal <- group_by(bike,地區) %>% summarise(bikenumber = n())
##警察局
police$地區 <- substr(police$poi_addr , start = 4 , stop = 6)
policetotal <-  group_by(police,地區) %>% summarise(policenumber = n())
##資料結合
merge1 <- full_join(people_taipei_area,cartotal,by="地區")
merge2 <- full_join(merge1,biketotal,by="地區")
merge3 <- full_join(merge2,policetotal,by="地區")
View(merge3)
View(people_taipei_area)
